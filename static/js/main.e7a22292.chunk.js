(this.webpackJsonpthreejs_tests=this.webpackJsonpthreejs_tests||[]).push([[0],{24:function(e,t,n){e.exports=n(25)},25:function(e,t,n){"use strict";n.r(t);var r=n(2),a=(n(26),n(0)),o=n.n(a),c=n(12),i=n.n(c),u=n(11),s=n(23),l=(n(30),n(3)),f=["mediumslateblue","indianred","darkseagreen"],b=(new l.TextureLoader).load("textures/discNoShadow.png"),p=function(){return 50*(Math.random()-.5)},m=function(){var e=[];return Array(100).fill().forEach((function(){e.push(p(),p(),0)})),e},h=function(){return new l.Color(f[parseInt(Math.random()*f.length)])},d=function(){var e=[];return Array(100).fill().forEach((function(){var t=h(),n=t.r,r=t.g,a=t.b;e.push(n,r,a)})),e},g=function(e){var t=e.points,n=e.colors,c=Object(u.d)(),i=c.scene,f=c.camera,p=c.aspect,m=Object(a.useRef)(),h=Object(a.useMemo)((function(){return new Float32Array(300)}),[]),d=Object(a.useMemo)((function(){return new Float32Array(300)}),[]),g=Object(s.a)((function(){return{pointsSpring:new Array(300).fill(0),colorsSpring:new Array(300).fill(1)}})),E=Object(r.a)(g,2),j=E[0],y=j.pointsSpring,O=j.colorsSpring,v=E[1];return Object(a.useEffect)((function(){v({pointsSpring:t})}),[t,v]),Object(a.useEffect)((function(){v({colorsSpring:n})}),[n,v]),Object(u.c)((function(){y.getValue().forEach((function(e,t){var n=t%3===0?e*p:e;m.current.attributes.position.array[t]=n})),O.getValue().forEach((function(e,t){m.current.attributes.color.array[t]=e})),m.current.attributes.position.needsUpdate=!0,m.current.attributes.color.needsUpdate=!0})),Object(a.useEffect)((function(){f.fov=30,f.near=10,f.far=100,f.position.set(0,0,100),f.updateProjectionMatrix(),i.background=new l.Color(15724527)}),[i,f]),o.a.createElement("mesh",null,o.a.createElement("points",null,o.a.createElement("bufferGeometry",{attach:"geometry",ref:m},o.a.createElement("bufferAttribute",{attachObject:["attributes","position"],count:t.length/3,array:h,itemSize:3,usage:l.DynamicDrawUsage}),o.a.createElement("bufferAttribute",{attachObject:["attributes","color"],count:t.length/3,array:d,itemSize:3,usage:l.DynamicDrawUsage})),o.a.createElement("pointsMaterial",{attach:"material",size:25,map:b,transparent:!0,alphaTest:.5,sizeAttenuation:!1,vertexColors:l.VertexColors})))};i.a.render(o.a.createElement((function(){var e=Object(a.useState)(m()),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(d()),s=Object(r.a)(i,2),l=s[0],f=s[1];return o.a.createElement("div",{className:"canvas-container"},o.a.createElement(u.a,null,o.a.createElement(g,{points:n,colors:l})),o.a.createElement("div",{className:"button-container"},o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return f(d())}},"Change colors"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return c(m())}},"Refresh")))}),null),document.getElementById("root"))},30:function(e,t,n){}},[[24,1,2]]]);
//# sourceMappingURL=main.e7a22292.chunk.js.map