(this.webpackJsonpthreejs_tests=this.webpackJsonpthreejs_tests||[]).push([[0],{24:function(t,e,n){t.exports=n(25)},25:function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(2),o=(n(26),n(0)),c=n.n(o),i=n(12),u=n.n(i),s=n(11),l=n(23),f=(n(30),n(3)),b=["mediumslateblue","indianred","darkseagreen"],p=(new f.TextureLoader).load("textures/discNoShadow.png"),m=function(){return 50*(Math.random()-.5)},h=function(){var t=[];return Array(100).fill().forEach((function(){t.push(m(),m(),0)})),t},d=function(){return new f.Color(b[parseInt(Math.random()*b.length)])},j=function(){var t=[];return Array(100).fill().forEach((function(){var e=d(),n=e.r,r=e.g,a=e.b;t.push(n,r,a)})),t},O=function(t){var e=t.points,n=t.colors,r=t.pointsData,i=t.setHoverDescription,u=Object(s.d)(),b=u.scene,m=u.camera,h=u.aspect,d=Object(o.useRef)(),j=Object(o.useRef)(),O=Object(o.useMemo)((function(){return new Float32Array(300)}),[]),g=Object(o.useMemo)((function(){return new Float32Array(300)}),[]),v=Object(l.a)((function(){return{pointsSpring:e,colorsSpring:Array(300).fill(1)}})),E=Object(a.a)(v,2),y=E[0],S=y.pointsSpring,w=y.colorsSpring,k=E[1];Object(o.useEffect)((function(){k({pointsSpring:e})}),[e,k]),Object(o.useEffect)((function(){k({colorsSpring:n})}),[n,k]),Object(s.c)((function(){S.getValue().forEach((function(t,e){var n=e%3===0?t*h:t;j.current.attributes.position.array[e]=n})),w.getValue().forEach((function(t,e){j.current.attributes.color.array[e]=t})),j.current.attributes.position.needsUpdate=!0,j.current.attributes.color.needsUpdate=!0})),Object(o.useEffect)((function(){m.fov=30,m.near=10,m.far=100,m.position.set(0,0,100),m.updateProjectionMatrix(),b.background=new f.Color(15724527)}),[b,m]);return c.a.createElement("mesh",{ref:d,onPointerOver:function(t){var e=t.index,n=t.clientX,a=t.clientY;i(function(t){var e=t.description,n=t.top,r=t.left,a=Math.max(r-75,0);return c.a.createElement("div",{className:"hover-description",style:{top:n,left:a,width:150}},e)}({description:"mouse over: ".concat(r[e]),top:a,left:n}))},onPointerOut:function(){i("")}},c.a.createElement("points",null,c.a.createElement("bufferGeometry",{attach:"geometry",ref:j},c.a.createElement("bufferAttribute",{attachObject:["attributes","position"],count:e.length/3,array:O,itemSize:3,usage:f.DynamicDrawUsage}),c.a.createElement("bufferAttribute",{attachObject:["attributes","color"],count:e.length/3,array:g,itemSize:3,usage:f.DynamicDrawUsage})),c.a.createElement("pointsMaterial",{attach:"material",size:25,map:p,transparent:!0,alphaTest:.5,sizeAttenuation:!1,vertexColors:f.VertexColors})))};u.a.render(c.a.createElement((function(){var t=Object(o.useState)(h()),e=Object(a.a)(t,2),n=e[0],i=e[1],u=Object(o.useState)(j()),l=Object(a.a)(u,2),f=l[0],b=l[1],p=Object(o.useState)(!1),m=Object(a.a)(p,2),d=m[0],g=m[1],v=Object(o.useState)(!1),E=Object(a.a)(v,2),y=E[0],S=E[1],w=Object(o.useState)("light"),k=Object(a.a)(w,2),A=k[0],C=k[1],x=Object(o.useState)("light"),D=Object(a.a)(x,2),M=D[0],N=D[1],I=Object(o.useState)(""),z=Object(a.a)(I,2),P=z[0],R=z[1],T=Object(o.useMemo)((function(){return Object(r.a)(Array(100).keys()).map((function(t){return"Points #".concat(t)}))}),[]);return c.a.createElement("div",{className:"canvas-container"},c.a.createElement(s.a,null,c.a.createElement(O,{points:n,colors:f,pointsData:T,setHoverDescription:function(t){R(t)}})),P,c.a.createElement("div",{className:"button-container"},c.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return b(j())}},"Change colors"),c.a.createElement("button",{type:"button",className:"btn btn-".concat(A),onClick:function(){return function(){if(y)clearInterval(y),S(!1),C("light");else{var t=window.setInterval((function(){return b(j())}),1e3);S(t),C("dark")}}()}},"Toogle colors"),c.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return i(h())}},"Refresh"),c.a.createElement("button",{type:"button",className:"btn btn-".concat(M),onClick:function(){return function(){if(d)clearInterval(d),g(!1),N("light");else{var t=window.setInterval((function(){return i(h())}),1e3);g(t),N("dark")}}()}},"Toogle Refresh")))}),null),document.getElementById("root"))},30:function(t,e,n){}},[[24,1,2]]]);
//# sourceMappingURL=main.2d77330f.chunk.js.map