(this.webpackJsonpthreejs_tests=this.webpackJsonpthreejs_tests||[]).push([[0],{24:function(t,e,n){t.exports=n(25)},25:function(t,e,n){"use strict";n.r(e);var r=n(2),a=(n(26),n(0)),c=n.n(a),o=n(12),u=n.n(o),i=n(11),s=n(23),l=(n(30),n(3)),b=["mediumslateblue","indianred","darkseagreen"],f=(new l.TextureLoader).load("textures/discNoShadow.png"),m=function(){return 50*(Math.random()-.5)},p=function(){var t=[];return Array(100).fill().forEach((function(){t.push(m(),m(),0)})),t},h=function(){return new l.Color(b[parseInt(Math.random()*b.length)])},g=function(){var t=[];return Array(100).fill().forEach((function(){var e=h(),n=e.r,r=e.g,a=e.b;t.push(n,r,a)})),t},j=function(t){var e=t.points,n=t.colors,o=Object(i.d)(),u=o.scene,b=o.camera,m=o.aspect,p=Object(a.useRef)(),h=Object(a.useMemo)((function(){return new Float32Array(300)}),[]),g=Object(a.useMemo)((function(){return new Float32Array(300)}),[]),j=Object(s.a)((function(){return{pointsSpring:new Array(300).fill(0),colorsSpring:new Array(300).fill(1)}})),d=Object(r.a)(j,2),O=d[0],E=O.pointsSpring,y=O.colorsSpring,v=d[1];return Object(a.useEffect)((function(){v({pointsSpring:e})}),[e,v]),Object(a.useEffect)((function(){v({colorsSpring:n})}),[n,v]),Object(i.c)((function(){E.getValue().forEach((function(t,e){var n=e%3===0?t*m:t;p.current.attributes.position.array[e]=n})),y.getValue().forEach((function(t,e){p.current.attributes.color.array[e]=t})),p.current.attributes.position.needsUpdate=!0,p.current.attributes.color.needsUpdate=!0})),Object(a.useEffect)((function(){b.fov=30,b.near=10,b.far=100,b.position.set(0,0,100),b.updateProjectionMatrix(),u.background=new l.Color(15724527)}),[u,b]),c.a.createElement("mesh",null,c.a.createElement("points",null,c.a.createElement("bufferGeometry",{attach:"geometry",ref:p},c.a.createElement("bufferAttribute",{attachObject:["attributes","position"],count:e.length/3,array:h,itemSize:3,usage:l.DynamicDrawUsage}),c.a.createElement("bufferAttribute",{attachObject:["attributes","color"],count:e.length/3,array:g,itemSize:3,usage:l.DynamicDrawUsage})),c.a.createElement("pointsMaterial",{attach:"material",size:25,map:f,transparent:!0,alphaTest:.5,sizeAttenuation:!1,vertexColors:l.VertexColors})))};u.a.render(c.a.createElement((function(){var t=Object(a.useState)(p()),e=Object(r.a)(t,2),n=e[0],o=e[1],u=Object(a.useState)(g()),s=Object(r.a)(u,2),l=s[0],b=s[1],f=Object(a.useState)(!1),m=Object(r.a)(f,2),h=m[0],d=m[1],O=Object(a.useState)(!1),E=Object(r.a)(O,2),y=E[0],v=E[1],w=Object(a.useState)("light"),S=Object(r.a)(w,2),k=S[0],A=S[1],C=Object(a.useState)("light"),N=Object(r.a)(C,2),x=N[0],I=N[1];return c.a.createElement("div",{className:"canvas-container"},c.a.createElement(i.a,null,c.a.createElement(j,{points:n,colors:l})),c.a.createElement("div",{className:"button-container"},c.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return b(g())}},"Change colors"),c.a.createElement("button",{type:"button",className:"btn btn-".concat(k),onClick:function(){return function(){if(y)clearInterval(y),v(!1),A("light");else{var t=window.setInterval((function(){return b(g())}),1e3);v(t),A("dark")}}()}},"Toogle colors"),c.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return o(p())}},"Refresh"),c.a.createElement("button",{type:"button",className:"btn btn-".concat(x),onClick:function(){return function(){if(h)clearInterval(h),d(!1),I("light");else{var t=window.setInterval((function(){return o(p())}),1e3);d(t),I("dark")}}()}},"Toogle Refresh")))}),null),document.getElementById("root"))},30:function(t,e,n){}},[[24,1,2]]]);
//# sourceMappingURL=main.529c53aa.chunk.js.map