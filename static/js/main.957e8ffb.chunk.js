(this.webpackJsonpthreejs_tests=this.webpackJsonpthreejs_tests||[]).push([[0],{25:function(e,t,n){e.exports=n(34)},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(3),c=(n(26),n(0)),o=n.n(c),i=n(12),u=n.n(i),s=n(10),l=n(24),f=n(19);Object(s.c)({MapControls:f.a});var b=function(e){var t=e.far,n=e.near,r=Object(c.useRef)(),a=Object(s.e)(),i=a.camera,u=a.gl,l=function(){r.current.reset()};return Object(c.useEffect)((function(){var e=r.current.domElement;return e.addEventListener("dblclick",l),function(){return e.removeEventListener("resize",l)}}),[]),o.a.createElement("mapControls",{ref:r,args:[i,u.domElement],screenSpacePanning:!0,minDistance:n,maxDistance:t})},m=(n(33),n(1)),p=["mediumslateblue","indianred"],d=(new m.TextureLoader).load("textures/discNoShadow.png"),h=function(){return 50*(Math.random()-.5)},j=function(){var e=[];return Array(100).fill().forEach((function(){e.push(h(),h(),0)})),e},O=function(){var e=[];return Array(100).fill().forEach((function(){var t=new m.Color(p[parseInt(Math.random()*p.length)]),n=t.r,r=t.g,a=t.b;e.push(n,r,a)})),e},g=function(e){var t=e.points,n=e.colors,r=e.pointsData,i=e.setHoverDescription,u=Object(s.e)(),f=u.scene,b=u.aspect,p=Object(c.useRef)(),h=Object(c.useRef)(),j=Object(c.useMemo)((function(){return new Float32Array(300)}),[]),O=Object(c.useMemo)((function(){return new Float32Array(300)}),[]),g=Object(l.a)((function(){return{pointsSpring:t,colorsSpring:Array(300).fill(1)}})),v=Object(a.a)(g,2),E=v[0],y=E.pointsSpring,S=E.colorsSpring,w=v[1];Object(c.useEffect)((function(){w({pointsSpring:t})}),[t,w]),Object(c.useEffect)((function(){w({colorsSpring:n})}),[n,w]),Object(s.d)((function(){y.getValue().forEach((function(e,t){var n=t%3===0?e*b:e;h.current.attributes.position.array[t]=n})),S.getValue().forEach((function(e,t){h.current.attributes.color.array[t]=e})),h.current.attributes.position.needsUpdate=!0,h.current.attributes.color.needsUpdate=!0})),Object(c.useEffect)((function(){f.background=new m.Color(15724527)}),[f]);return o.a.createElement("mesh",{ref:p,onPointerOver:function(e){var t=e.index,n=e.clientX,a=e.clientY;i(function(e){var t=e.description,n=e.top,r=e.left,a=Math.max(r-75,0);return o.a.createElement("div",{className:"hover-description",style:{top:n,left:a,width:150}},t)}({description:"mouse over: ".concat(r[t]),top:a,left:n}))},onPointerOut:function(){i("")}},o.a.createElement("points",null,o.a.createElement("bufferGeometry",{attach:"geometry",ref:h},o.a.createElement("bufferAttribute",{attachObject:["attributes","position"],count:t.length/3,array:j,itemSize:3,usage:m.DynamicDrawUsage}),o.a.createElement("bufferAttribute",{attachObject:["attributes","color"],count:t.length/3,array:O,itemSize:3,usage:m.DynamicDrawUsage})),o.a.createElement("pointsMaterial",{attach:"material",size:25,map:d,transparent:!0,alphaTest:.5,sizeAttenuation:!1,vertexColors:m.VertexColors})))};u.a.render(o.a.createElement((function(){var e=Object(c.useState)(j()),t=Object(a.a)(e,2),n=t[0],i=t[1],u=Object(c.useState)(O()),l=Object(a.a)(u,2),f=l[0],m=l[1],p=Object(c.useState)(!1),d=Object(a.a)(p,2),h=d[0],v=d[1],E=Object(c.useState)(!1),y=Object(a.a)(E,2),S=y[0],w=y[1],k=Object(c.useState)("light"),C=Object(a.a)(k,2),D=C[0],A=C[1],x=Object(c.useState)("light"),M=Object(a.a)(x,2),N=M[0],I=M[1],z=Object(c.useState)(""),R=Object(a.a)(z,2),P=R[0],T=R[1],U=Object(c.useMemo)((function(){return Object(r.a)(Array(100).keys()).map((function(e){return"Points #".concat(e)}))}),[]);return o.a.createElement("div",{className:"canvas-container"},o.a.createElement(s.a,{camera:{fov:30,near:10,far:1e3,position:[0,0,100]}},o.a.createElement(g,{points:n,colors:f,pointsData:U,setHoverDescription:function(e){T(e)}}),o.a.createElement(b,{far:1e3,near:10})),P,o.a.createElement("div",{className:"button-container"},o.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return m(O())}},"Change colors"),o.a.createElement("button",{type:"button",className:"btn btn-".concat(D),onClick:function(){return function(){if(S)clearInterval(S),w(!1),A("light");else{var e=window.setInterval((function(){return m(O())}),1e3);w(e),A("dark")}}()}},"Toogle colors"),o.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return i(j())}},"Refresh"),o.a.createElement("button",{type:"button",className:"btn btn-".concat(N),onClick:function(){return function(){if(h)clearInterval(h),v(!1),I("light");else{var e=window.setInterval((function(){return i(j())}),1e3);v(e),I("dark")}}()}},"Toogle Refresh")))}),null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.957e8ffb.chunk.js.map